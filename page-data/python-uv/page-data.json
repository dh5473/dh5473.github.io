{"componentChunkName":"component---src-templates-post-template-tsx","path":"/python-uv/","result":{"data":{"site":{"siteMetadata":{"title":"Donhyeok's Blog","description":"Donhyeok's Blog","siteUrl":"https://dh5473.github.io"}},"allMarkdownRemark":{"edges":[{"node":{"html":"<p>Python 개발을 하다 보면 누구나 한 번쯤 가상환경이나 패키지 관리 때문에 고통 받아본 경험이 있을 겁니다. 특히 머신러닝 쪽 라이브러리를 활용할 때는 버전이 충돌하는 일도 많습니다. 새로운 프로젝트를 시작할 때마다 python 버전도 신경써야하고, 느리고 자주 충돌하는 pip와 requirements.txt 관리 때문에, 이제는 핵심 로직에 집중하고 싶다는 생각을 종종 했습니다.</p>\n<br>\n<p>기존 pip, poetry, pyenv, pipx, pipenv 등 다양한 python 패키지 관리 툴은 아래와 같은 문제점들을 가지고 있었습니다.</p>\n<ul>\n<li><strong>복잡한 학습 곡선</strong>: 각 도구마다 다른 명령어와 설정 방식</li>\n<li><strong>일관성 없는 워크플로우</strong>: 프로젝트마다 다른 설정과 관리 방식</li>\n<li><strong>성능 이슈</strong>: pip의 느린 의존성 해결과 패키지 설치 속도</li>\n<li><strong>재현성 문제</strong>: 환경 간 일관된 패키지 버전 보장의 어려움</li>\n</ul>\n<p>이런 문제들을 해결하기 위해 poetry, pipenv, conda 등 다양한 도구들이 등장했지만, 기존의 문제들을 통합해서 해결하지는 못했습니다. 이때, 2024년 초 탄생한 uv는 Rust 기반의 매우 빠른 속도와 앞선 도구들의 장점을 통합하며 새로운 생태계를 이끌어가고 있습니다.</p>\n<h2>혜성처럼 등장한 uv</h2>\n<p>uv의 가장 큰 장점은 <strong>편의성</strong>과 압도적인 <strong>속도</strong>입니다.</p>\n<p>꼭 필요한 파이썬 버전, 의존성, 가상환경, 패키징 관리 등을 알아서 처리합니다. 특히 패키지 간 버전 충돌을 명령어 하나로 알아서 업데이트하고 관리해주는 것이 큰 장점입니다.</p>\n<p>Rust 기반 Resolver(여러 패키지나 버전이 충돌할 때 어떤 버전을 사용할지 결정하는 규칙)으로 의존성 설치 속도가 pip나 poetry 대비 10~100배 빠릅니다. 캐싱, 최적화, 병렬 다운로드도 활용하는데, 사용해보면 차이가 눈에 보일 정도의 빠른 속도를 보여줍니다.</p>\n<p>아래에서 더 자세히 살펴보겠지만, 사용 명령어도 정말 간단한데 init, add, sync 이 3가지만으로 .venv 폴더나 버전 설정 등을 직접 신경쓰지 않아도 자동으로 생성하고 관리해줍니다.</p>\n<h3>uv 설치하기</h3>\n<p>운영체제에 따라 아래 방법으로 설치하고 <code class=\"language-text\">uv —version</code>으로 설치를 확인해볼 수 있습니다.</p>\n<p><strong>macOS / Linux</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-LsSf</span> https://astral.sh/uv/install.sh <span class=\"token operator\">|</span> <span class=\"token function\">sh</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token environment constant\">$HOME</span>/.local/bin:<span class=\"token environment constant\">$PATH</span>\"</span></code></pre></div>\n<br>\n<p><strong>Window (PowerShell)</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">powershell <span class=\"token parameter variable\">-ExecutionPolicy</span> ByPass <span class=\"token parameter variable\">-c</span> <span class=\"token string\">\"irm https://astral.sh/uv/install.ps1 | iex\"</span></code></pre></div>\n<br>\n<p><strong>Homebrew (macOS) 혹은 pip</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">brew <span class=\"token function\">install</span> uv\npip <span class=\"token function\">install</span> uv</code></pre></div>\n<h3>프로젝트 생성</h3>\n<p>uv를 활용하면 간단한 명령어로 프로젝트를 세팅할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">uv init my-project</code></pre></div>\n<p>위 명령어 하나로 python version, 패키지 의존성(pyproject.toml) 등과 관련된 기초 세팅이 완료됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">my-project/\n├── .git/\n├── .gitignore\n├── .python-version         <span class=\"token comment\"># Python 버전 지정</span>\n├── pyproject.toml          <span class=\"token comment\"># 프로젝트 메타데이터 및 의존성</span>\n├── uv.lock                 <span class=\"token comment\"># 정확한 의존성 버전 기록</span>\n├── README.md\n└── main.py</code></pre></div>\n<p>여기서 주목할 점은 <code class=\"language-text\">pyproject.toml</code>입니다. 최신 파이썬 패키징 표준인 PEP 621을 준수하여 모든 프로젝트 설정을 이 파일에 통합합니다. 또한 uv.lock 파일을 활용해 정확한 의존성 버전도 기록합니다.</p>\n<p>가상환경을 관리하는 .venv 폴더도 자동으로 생기며, 가상환경을 별도로 활성화할 필요 없이 <code class=\"language-text\">uv run</code> 명령어를 사용하면 자동으로 가상환경을 적용할 수 있습니다.</p>\n<br>\n<p>이미 requirements.txt 파일이 존재한다면, 아래와 같이 의존성을 설치할 수 있으며, 각 개별 새로운 의존성은 <code class=\"language-text\">uv add numpy</code> 이런 식으로 추가할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">uv <span class=\"token function\">add</span> <span class=\"token parameter variable\">-r</span> requirements.txt \nuv <span class=\"token function\">add</span> <span class=\"token operator\">&lt;</span>패키지명<span class=\"token operator\">></span></code></pre></div>\n<p>만약 이미 uv 기반의 프로젝트를 받아오거나 CI/CD 등의 자동화된 환경에서는 아래 명령어를 활용하여 자동으로 의존성을 일치시킬 수 있습니다. 참고로 uv sync는 pyproject.toml 파일을 기반으로 의존성을 설치, 관리하며 uv.lock 파일을 생성하고 업데이트합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">uv <span class=\"token function\">sync</span></code></pre></div>\n<br>\n<p>또한 taskipy 의존성을 설치하면, pyproject.toml에 원하는 형태의 CLI를 정의하고 편리하게 실행할 수 있습니다. 아래 예에서는 <code class=\"language-text\">uv run task dev</code> 라고 실행하면 저장되어 있던 명령어가 실행됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># pyproject.toml</span>\n\n<span class=\"token punctuation\">[</span>tool.taskipy.tasks<span class=\"token punctuation\">]</span>\ndev <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> cmd <span class=\"token operator\">=</span> <span class=\"token string\">\"PYTHONPATH=. uv run streamlit run src/app.py\"</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>자주 사용하진 않지만 이외에도 다양한 명령어들이 존재합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 프로젝트 상태 확인</span>\nuv tree                    <span class=\"token comment\"># 의존성 트리 보기</span>\nuv lock <span class=\"token parameter variable\">--upgrade</span>         <span class=\"token comment\"># 의존성 업데이트 및 lock 파일 갱신</span>\n\n<span class=\"token comment\"># 가상환경 관리</span>\nuv venv                   <span class=\"token comment\"># 가상환경 생성</span>\nuv venv <span class=\"token parameter variable\">--python</span> <span class=\"token number\">3.11</span>     <span class=\"token comment\"># 특정 Python 버전으로 가상환경 생성</span>\n\n<span class=\"token comment\"># 패키지 검색 및 정보</span>\nuv pip show requests      <span class=\"token comment\"># 설치된 패키지 정보 확인</span>\nuv pip list               <span class=\"token comment\"># 설치된 패키지 목록 보기</span>\nuv pip <span class=\"token function\">install</span> <span class=\"token operator\">&lt;</span>패키지명<span class=\"token operator\">></span>   <span class=\"token comment\"># 현재 환경에만 설치 (pyproject.toml 수정 안함)</span>\n\n<span class=\"token comment\"># 실행 환경</span>\nuv run python script.py   <span class=\"token comment\"># 프로젝트 환경에서 스크립트 실행</span>\nuv run pytest            <span class=\"token comment\"># 테스트 실행</span>\n\n<span class=\"token comment\"># 캐시 관리</span>\nuv cache clean           <span class=\"token comment\"># 글로벌 캐시 정리</span>\nuv cache <span class=\"token function\">dir</span>             <span class=\"token comment\"># 캐시 디렉토리 위치 확인</span></code></pre></div>\n<h3>기존 프로젝트 마이그레이션</h3>\n<p>기존 프로젝트를 uv로 마이그레이션하는 것도 간단합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># pyproject.toml이 있는 경우</span>\nuv <span class=\"token function\">sync</span>\n\n<span class=\"token comment\"># Poetry 의존성을 uv 형식으로 변환</span>\nuv <span class=\"token function\">add</span> <span class=\"token variable\"><span class=\"token variable\">$(</span>poetry <span class=\"token builtin class-name\">export</span> <span class=\"token parameter variable\">-f</span> requirements.txt --without-hashes <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d<span class=\"token string\">'='</span> <span class=\"token parameter variable\">-f1</span><span class=\"token variable\">)</span></span>\n\n<span class=\"token comment\"># requirements.txt에서 의존성 가져오기</span>\nuv <span class=\"token function\">add</span> <span class=\"token parameter variable\">-r</span> requirements.txt</code></pre></div>\n<h2>이젠 uv로 통합해야할 때</h2>\n<p>기존 파이썬 생태계는 주로 다음과 같은 도구들이 각자 필요한 역할을 담당해왔습니다. 하지만 이제는 uv 하나로 해결할 수 있습니다.</p>\n<ul>\n<li><strong>pip</strong>: 패키지 설치</li>\n<li><strong>poetry</strong>: 의존성·빌드 관리</li>\n<li><strong>venv</strong>: 가상환경 생성</li>\n</ul>\n<br>\n<p>uv는 등장한지 얼마 되지 않았지만, 기존 툴들 대비 편리한 사용성과 뛰어난 성능으로 빠르게 확산 중입니다. 기존 프로젝트를 이전하는 것이 어렵다면, 작은 프로젝트라도 uv와 함께 시작해보는 것을 추천드립니다. 익숙하지 않아 처음 생기는 거부감만 넘어선다면, 세팅부터 관리, 배포까지 이전보다 훨씬 더 나은 개발 경험을 얻을 수 있습니다.</p>\n<h2>참고 자료</h2>\n<ul>\n<li><a href=\"https://github.com/astral-sh/uv\" target=\"_blank\" rel=\"nofollow\">uv github</a></li>\n<li><a href=\"https://sigridjin.medium.com/%ED%8C%8C%EC%9D%B4%EC%8D%AC-%EA%B0%9C%EB%B0%9C%EC%9E%90%EB%9D%BC%EB%A9%B4-uv-%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%A9%EC%8B%9C%EB%8B%A4-546d523f7178\" target=\"_blank\" rel=\"nofollow\">파이썬 개발자라면 uv를 사용합시다</a></li>\n</ul>","frontmatter":{"title":"써보면 절대 후회하지 않는 파이썬 uv 사용법","summary":"혜성처럼 등장한 python 패키지 관리 툴 uv. 다른 도구들 대비 뛰어난 편의성과 성능을 가지고 있는 uv에 대해 알아봅니다.","date":"2025.08.24.","category":"Dev","thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR42p2RSy8DURiGJS4Jqnp1L9XrtNpzZlrtjNEZZUjbtEJZitgIQWJlIRJixcpKQoI9Kxsrez/CwlLiZ7zm9DLSmIZ08eQszvme7z3f1xZ28DCDcwjw22LIjhWwwW2jHNhAxCmg2fs6bc0uos4khiyTOE1f4mPrC6+rb4i5UgjZaaVZS8LRvgAO+WO8b37iqfCiJ0wg5KCtJWSw4qhrGqkhFcQt/ikzFXLOKmHnjzRgjyHoIH/KGoRsNkGbXmwl8FkIAv0sDa01EP4laxBGXAkkvTPIKwtQqQLq0edlS+hyWkkbcQumcC4TIUs3NZiGFJ7D2UUJV3crODrOoZjVMJ+WEB1IYqKLh6cjbjDeSeBpj8PbTRC0k98JBc8sZC6Ly+sSbp/KuHks4/55DQ/P6zg5X8befh47uws6WpUdDXsHGtaKc6AjM8ZYDCFLER9OQeVlKFSEQkRk4lWW5AwWJclAE0XkZjMoqArkqbT+9aT5UtgZtPLw63Nj+Gr4LTwme0gDvl5awa8vsF7LhN9HQ1Be88CZTwAAAABJRU5ErkJggg=="},"backgroundColor":"transparent","images":{"fallback":{"src":"/static/769a4810f73fdb3217941b683038b57d/6c67c/uv-logo.png","srcSet":"/static/769a4810f73fdb3217941b683038b57d/bb901/uv-logo.png 750w,\n/static/769a4810f73fdb3217941b683038b57d/32d0a/uv-logo.png 1080w,\n/static/769a4810f73fdb3217941b683038b57d/a5896/uv-logo.png 1366w,\n/static/769a4810f73fdb3217941b683038b57d/022f2/uv-logo.png 1920w,\n/static/769a4810f73fdb3217941b683038b57d/6c67c/uv-logo.png 2400w","sizes":"(min-width: 2400px) 2400px, 100vw"},"sources":[{"srcSet":"/static/769a4810f73fdb3217941b683038b57d/e3ac4/uv-logo.avif 750w,\n/static/769a4810f73fdb3217941b683038b57d/4b2c4/uv-logo.avif 1080w,\n/static/769a4810f73fdb3217941b683038b57d/dbb51/uv-logo.avif 1366w,\n/static/769a4810f73fdb3217941b683038b57d/9c27f/uv-logo.avif 1920w,\n/static/769a4810f73fdb3217941b683038b57d/984af/uv-logo.avif 2400w","type":"image/avif","sizes":"(min-width: 2400px) 2400px, 100vw"},{"srcSet":"/static/769a4810f73fdb3217941b683038b57d/e8a55/uv-logo.webp 750w,\n/static/769a4810f73fdb3217941b683038b57d/8e2db/uv-logo.webp 1080w,\n/static/769a4810f73fdb3217941b683038b57d/c14ff/uv-logo.webp 1366w,\n/static/769a4810f73fdb3217941b683038b57d/fbc3b/uv-logo.webp 1920w,\n/static/769a4810f73fdb3217941b683038b57d/24ad4/uv-logo.webp 2400w","type":"image/webp","sizes":"(min-width: 2400px) 2400px, 100vw"}]},"width":2400,"height":1350}},"publicURL":"/static/769a4810f73fdb3217941b683038b57d/uv-logo.png"}}}}]}},"pageContext":{"slug":"/python-uv/"}},"staticQueryHashes":[],"slicesMap":{}}