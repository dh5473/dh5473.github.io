<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.14.4"/><meta data-react-helmet="true" name="description" content="의존성 주입(DI)의 개념과 원리를 이해하고, 실제 코드에 적용하는 방법을 알아봅니다."/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="Dependency Injection 제대로 이해하기 | Donhyeok&#x27;s Blog"/><meta data-react-helmet="true" property="og:description" content="의존성 주입(DI)의 개념과 원리를 이해하고, 실제 코드에 적용하는 방법을 알아봅니다."/><meta data-react-helmet="true" property="og:image" content="/static/af879e3cd792f86d342c054b8ebd7720/fastapi-logo.png"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:site_name" content="Dependency Injection 제대로 이해하기 | Donhyeok&#x27;s Blog"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="Dependency Injection 제대로 이해하기 | Donhyeok&#x27;s Blog"/><meta data-react-helmet="true" name="twitter:description" content="의존성 주입(DI)의 개념과 원리를 이해하고, 실제 코드에 적용하는 방법을 알아봅니다."/><meta data-react-helmet="true" name="twitter:image" content="/static/af879e3cd792f86d342c054b8ebd7720/fastapi-logo.png"/><meta data-react-helmet="true" name="twitter:image:alt" content="Dependency Injection 제대로 이해하기 | Donhyeok&#x27;s Blog"/><meta data-react-helmet="true" name="twitter:site" content="@dh5473"/><meta data-react-helmet="true" name="twitter:creator" content="@dh5473"/><meta data-react-helmet="true" name="google-site-verification" content="6XVBzencr6SkW_qtNsc8pZrsOARNn4-tPhVcPC9Vy0I"/><meta data-react-helmet="true" name="naver-site-verification" content="7ba00a2f54b28fc732e03fe4b645be26d4e5f4ed"/><style data-href="/styles.9e907bc32054b7771552.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><title data-react-helmet="true">Dependency Injection 제대로 이해하기 | Donhyeok&#x27;s Blog</title><link data-react-helmet="true" rel="icon" type="image/svg+xml" href="/favicon.svg"/><link data-react-helmet="true" rel="alternate icon" href="/favicon.ico"/><script data-react-helmet="true" type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","name":"Donhyeok's Blog","description":"Donhyeok's 개발 블로그","url":"https://dh5473.github.io/","author":{"@type":"Person","name":"Donhyeok"},"publisher":{"@type":"Person","name":"Donhyeok"}}</script><script data-react-helmet="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Dependency Injection 제대로 이해하기 | Donhyeok's Blog","description":"의존성 주입(DI)의 개념과 원리를 이해하고, 실제 코드에 적용하는 방법을 알아봅니다.","image":"/static/af879e3cd792f86d342c054b8ebd7720/fastapi-logo.png","datePublished":"2025.07.28.","dateModified":"2025.07.28.","author":{"@type":"Person","name":"Donhyeok"},"publisher":{"@type":"Person","name":"Donhyeok"},"mainEntityOfPage":{"@type":"WebPage"},"articleSection":"Dev"}</script><script data-react-helmet="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://dh5473.github.io/"},{"@type":"ListItem","position":2,"name":"Dev","item":"https://dh5473.github.io/?category=Dev"},{"@type":"ListItem","position":3,"name":"Dependency Injection 제대로 이해하기 | Donhyeok's Blog"}]}</script><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="canonical" href="https://dh5473.github.io/fastapi-series/dependency-injection/" data-baseprotocol="https:" data-basehost="dh5473.github.io"/><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 11pfcjj">.css-11pfcjj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><main class="css-11pfcjj e1strnqo0"><style data-emotion="css-global 1ctel7">@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css');@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&display=swap');*{padding:0;margin:0;box-sizing:border-box;font-family:'Pretendard',-apple-system,BlinkMacSystemFont,system-ui,Roboto,'Helvetica Neue','Segoe UI','Apple SD Gothic Neo','Noto Sans KR','Malgun Gothic','Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol',sans-serif;}html,body,#___gatsby{height:100%;}a,a:hover{color:inherit;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}code,pre,code[class*='language-'],pre[class*='language-']{font-family:'JetBrains Mono','Fira Code',Consolas,'Liberation Mono',Menlo,Courier,monospace!important;}</style><style data-emotion="css 16cz9yp">.css-16cz9yp{position:relative;width:100%;height:400px;}@media (max-width: 768px){.css-16cz9yp{height:300px;}}</style><div class="css-16cz9yp e1opi4mu1"><style data-emotion="css 1bjn9yo">.css-1bjn9yo{z-index:-1;width:100%;height:400px;object-fit:cover;-webkit-filter:brightness(0.25);filter:brightness(0.25);}@media (max-width: 768px){.css-1bjn9yo{height:300px;}}</style><div data-gatsby-image-wrapper="" style="position:absolute" class="gatsby-image-wrapper gatsby-image-wrapper-constrained css-1bjn9yo e1opi4mu0"><div style="max-width:1200px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;630&#x27;%20width=&#x27;1200&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:transparent;position:absolute;top:0;left:0;bottom:0;right:0" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYklEQVR42q1Sy0pCURS9VyQVIq2GUYNqEIUR1LwP6AOkqCCa9BGVGpaFXt9v7aVo2UDLJDIlopmjfqVhjVZ7H71mpoHQYLHW3gfWfpwtacJH0BKYpdBh//AfQPbaBIt4Mh3GYv4UpqRbJNhY7uBuxWTO+e2YzkRgrb9i6easYWqInkBm4bVC8uyTtkOjxqQFfLZfhtqwE5Kyh9XKLd4/P6C81UUsbdZKsFSK2KiWsP1chuWxgJ2XB6w9FbFSzmOrdi9YCjp+dshMucG4C+vVO0xcBiEFqJGpdATzV0ksFzJYuE5hNhsXsTmXwFwuDjPpmWyMTBzdd8iFlN2GGcetsXixPJrP3sZN8HuPT5Gb48vqntWltxDq4H4vQLTcL/4y1EWPwT+tJzAbYt/Qq3nSujatjTh7G46dB8C3OH4RhDHhxmjKQzepNOGGkTBMeijhgoneR0izcc9OB6gaV2X+j5G/AJAT36wHgHabAAAAAElFTkSuQmCC" alt=""/><picture><source type="image/avif" data-srcset="/static/af879e3cd792f86d342c054b8ebd7720/df6ef/fastapi-logo.avif 750w,/static/af879e3cd792f86d342c054b8ebd7720/deded/fastapi-logo.avif 1080w,/static/af879e3cd792f86d342c054b8ebd7720/d19ec/fastapi-logo.avif 1200w" sizes="(min-width: 1200px) 1200px, 100vw"/><source type="image/webp" data-srcset="/static/af879e3cd792f86d342c054b8ebd7720/8384a/fastapi-logo.webp 750w,/static/af879e3cd792f86d342c054b8ebd7720/cd2cc/fastapi-logo.webp 1080w,/static/af879e3cd792f86d342c054b8ebd7720/1014a/fastapi-logo.webp 1200w" sizes="(min-width: 1200px) 1200px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1200px) 1200px, 100vw" decoding="async" loading="lazy" data-src="/static/af879e3cd792f86d342c054b8ebd7720/7c277/fastapi-logo.png" data-srcset="/static/af879e3cd792f86d342c054b8ebd7720/68929/fastapi-logo.png 750w,/static/af879e3cd792f86d342c054b8ebd7720/48678/fastapi-logo.png 1080w,/static/af879e3cd792f86d342c054b8ebd7720/7c277/fastapi-logo.png 1200w" alt="thumbnail"/></picture><noscript><picture><source type="image/avif" srcSet="/static/af879e3cd792f86d342c054b8ebd7720/df6ef/fastapi-logo.avif 750w,/static/af879e3cd792f86d342c054b8ebd7720/deded/fastapi-logo.avif 1080w,/static/af879e3cd792f86d342c054b8ebd7720/d19ec/fastapi-logo.avif 1200w" sizes="(min-width: 1200px) 1200px, 100vw"/><source type="image/webp" srcSet="/static/af879e3cd792f86d342c054b8ebd7720/8384a/fastapi-logo.webp 750w,/static/af879e3cd792f86d342c054b8ebd7720/cd2cc/fastapi-logo.webp 1080w,/static/af879e3cd792f86d342c054b8ebd7720/1014a/fastapi-logo.webp 1200w" sizes="(min-width: 1200px) 1200px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 1200px) 1200px, 100vw" decoding="async" loading="lazy" src="/static/af879e3cd792f86d342c054b8ebd7720/7c277/fastapi-logo.png" srcSet="/static/af879e3cd792f86d342c054b8ebd7720/68929/fastapi-logo.png 750w,/static/af879e3cd792f86d342c054b8ebd7720/48678/fastapi-logo.png 1080w,/static/af879e3cd792f86d342c054b8ebd7720/7c277/fastapi-logo.png 1200w" alt="thumbnail"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><style data-emotion="css m1156n">.css-m1156n{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;height:100%;margin:0 auto;padding:60px 0;color:#ffffff;}@media (max-width: 768px){.css-m1156n{width:100%;padding:40px 20px;}}</style><div class="css-m1156n e1st1jau3"><style data-emotion="css gywgo7">.css-gywgo7{display:grid;place-items:center;width:40px;height:40px;border-radius:50%;background:#ffffff;color:#000000;font-size:22px;cursor:pointer;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);}@media (max-width: 768px){.css-gywgo7{width:30px;height:30px;font-size:18px;}}</style><div class="css-gywgo7 e1st1jau2"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" class="svg-inline--fa fa-arrow-left " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path></svg></div><style data-emotion="css 14zaoxo">.css-14zaoxo{display:-webkit-box;overflow:hidden;overflow-wrap:break-word;margin-top:auto;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:45px;font-weight:800;margin:0;margin-top:auto;}@media (max-width: 768px){.css-14zaoxo{font-size:30px;}}</style><h1 class="css-14zaoxo e1st1jau1">Dependency Injection 제대로 이해하기</h1><style data-emotion="css 3gcnt2">.css-3gcnt2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:10px;font-size:18px;font-weight:700;}@media (max-width: 768px){.css-3gcnt2{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;font-size:15px;font-weight:400;}}</style><div class="css-3gcnt2 e1st1jau0"><div>Dev</div><div>2025.07.28.</div></div></div></div><style data-emotion="css 17fna5e">.css-17fna5e{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;margin:0 auto;padding:100px 0;word-break:break-all;line-height:1.8;font-size:18px;font-weight:400;}.css-17fna5e p{padding:3px 0;margin-bottom:10px;}.css-17fna5e h1,.css-17fna5e h2,.css-17fna5e h3{font-weight:800;margin-bottom:10px;}.css-17fna5e *+h1,.css-17fna5e *+h2,.css-17fna5e *+h3{margin-top:60px;}.css-17fna5e hr+h1,.css-17fna5e hr+h2,.css-17fna5e hr+h3{margin-top:0;}.css-17fna5e h1{font-size:34px;}.css-17fna5e h2{font-size:28px;}.css-17fna5e h3{font-size:22px;}.css-17fna5e blockquote{margin:20px 0;padding:5px 15px;border-left:2px solid #000000;font-weight:800;}.css-17fna5e ol,.css-17fna5e ul{margin-left:20px;padding:20px 0;}.css-17fna5e li{margin-bottom:6px;line-height:1.7;}.css-17fna5e hr{border:1px solid #000000;margin:60px 0;}.css-17fna5e a{color:#4263eb;-webkit-text-decoration:underline;text-decoration:underline;}.css-17fna5e pre[class*='language-']{margin:20px 0;padding:0;font-size:16px;background:#1e1e1e!important;border-radius:8px;overflow:hidden;position:relative;}.css-17fna5e pre[class*='language-']::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.3);border-radius:3px;}.css-17fna5e pre[class*='language-']:before{content:'';display:block;height:35px;background:#333;position:relative;}.css-17fna5e pre[class*='language-']:after{content:'';position:absolute;top:14px;left:15px;width:10px;height:10px;background:#ff5f56;border-radius:50%;box-shadow:16px 0 0 #ffbd2e,32px 0 0 #27ca3f;}.css-17fna5e pre[class*='language-'] code{display:block;padding:15px 20px;background:transparent!important;}.css-17fna5e .copy-button{position:absolute;top:8px;right:12px;background:#4a4e54;border:none;border-radius:4px;color:#ffffff;padding:4px 8px;font-size:12px;cursor:pointer;opacity:0;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;z-index:10;}.css-17fna5e pre[class*='language-']:hover .copy-button{opacity:1;}.css-17fna5e .copy-button:hover{background:#5a5e64;}.css-17fna5e .copy-button.copied{background:#27ca3f;color:white;}.css-17fna5e code[class*='language-'],.css-17fna5e pre[class*='language-']{tab-size:2;}.css-17fna5e code:not([class*='language-']){background:#f1f3f4;padding:2px 6px;border-radius:4px;font-size:16px;}@media (max-width: 768px){.css-17fna5e{width:100%;padding:80px 20px;line-height:1.6;font-size:16px;}.css-17fna5e *+h1,.css-17fna5e *+h2,.css-17fna5e *+h3{margin-top:40px;}.css-17fna5e h1,.css-17fna5e h2,.css-17fna5e h3{margin-bottom:16px;}.css-17fna5e h1{font-size:26px;}.css-17fna5e h2{font-size:23px;}.css-17fna5e h3{font-size:19px;}.css-17fna5e blockquote{font-size:15px;margin:16px 0;}.css-17fna5e pre[class*='language-']{font-size:14px;margin:16px 0;border-radius:6px;}.css-17fna5e pre[class*='language-']:after{top:9px;left:10px;width:6px;height:6px;box-shadow:12px 0 0 #ffbd2e,24px 0 0 #27ca3f;}.css-17fna5e pre[class*='language-']:before{height:25px;}.css-17fna5e pre[class*='language-'] code{padding:12px 16px;font-size:13px;}.css-17fna5e .copy-button{top:6px;right:8px;padding:3px 6px;font-size:11px;}.css-17fna5e code:not([class*='language-']){font-size:14px;}.css-17fna5e img{width:100%;}.css-17fna5e hr{margin:40px 0;}}</style><div class="css-17fna5e e1ijh0y10"><p>의존성 주입(Dependency Injection, DI)은 자주 언급되는 용어지만, 완전히 이해하고 설계로 연결하기가 꽤 어려운 주제입니다. 특히 Python 기반 프레임워크를 사용할 때는 더욱 그렇습니다. 자바 진영인 스프링에서는 프레임워크 단에서 DI가 설계되어 있기 때문에 주도적으로 사용이 가능하지만, FastAPI 같은 프레임워크에서는 사실상 함수 기능만 제공하고 있기 때문입니다.</p>
<p>먼저 의존성 주입을 제대로 이해하고, 이후에 FastAPI에는 어떻게 적용할 수 있을지 알아보겠습니다.</p>
<h2>Dependency Injection이란?</h2>
<p><strong>필요한 객체를 직접 만들지 않고, 외부에서 주입 받아 쓰는 설계 방식</strong></p>
<p>언뜻 개념은 쉬워 보이지만 DI가 굳이 왜 필요한지, 어떤 장점이 있는지 완전히 이해하기는 꽤 어렵습니다.
먼저 기본적으로 의존 관계를 가지는 예시를 보며 의존성이라는 용어부터 이해해보겠습니다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Engine</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">start</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"엔진이 켜졌습니다."</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Car</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>engine <span class="token operator">=</span> Engine<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># Car는 Engine에 의존함</span>

    <span class="token keyword">def</span> <span class="token function">drive</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"자동차가 출발합니다."</span><span class="token punctuation">)</span>

car <span class="token operator">=</span> Car<span class="token punctuation">(</span><span class="token punctuation">)</span>
car<span class="token punctuation">.</span>drive<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>위의 예제에서 <code class="language-text">Car</code> 클래스는 <code class="language-text">Engine</code> 클래스를 내부에서 변수로 사용하고 있습니다.
이때 <code class="language-text">Car</code> 클래스가 제대로 동작하기 위해서는 반드시 <code class="language-text">Engine</code>이 필요합니다.
즉, <code class="language-text">Car</code>는 <code class="language-text">Engine</code> 없이 작동하지 못하므로 <code class="language-text">Engine</code>에 의존 관계가 생긴 것입니다.</p>
<br>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Engine</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">start</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"엔진이 켜졌습니다."</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Car</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> engine<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 의존성을 외부에서 주입받음</span>
        self<span class="token punctuation">.</span>engine <span class="token operator">=</span> engine

    <span class="token keyword">def</span> <span class="token function">drive</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"자동차가 출발합니다."</span><span class="token punctuation">)</span>

engine <span class="token operator">=</span> Engine<span class="token punctuation">(</span><span class="token punctuation">)</span>
car <span class="token operator">=</span> Car<span class="token punctuation">(</span>engine<span class="token punctuation">)</span>  <span class="token comment"># 의존성 주입</span>
car<span class="token punctuation">.</span>drive<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>위의 예제에서는 <code class="language-text">Engine</code>을 <code class="language-text">Car</code> 내부에서 생성하는 것이 아닌, 외부에서 생성하여 넣어주고 있습니다.
<code class="language-text">Car</code>는 <code class="language-text">Engine</code> 객체가 필요한데, 이를 직접 만들지 않고 외부에서 주입 받아 사용하고 있습니다.</p>
<h2>의존성 분리와 의존관계 역전 원칙(DIP)</h2>
<p>지금까지는 처음에 나왔던 개념과 일치하는 상황인데, 여기서 DI는 의존성을 주입하는 것으로 끝나지 않습니다.
바로 <strong>의존성 분리</strong>라는 개념이 포함되는데, 이는 외부에서 객체를 넣어주는 것만이 아니라 상위 계층이 하위 계층에 직접 의존하지 않도록 해야 합니다. 이를 가능하게 해주는 원칙이 바로 <strong>의존관계 역전 원칙(Dependency Inversion Principle, DIP)</strong> 입니다.</p>
<br>
<p>기존에는 <code class="language-text">Car</code>가 <code class="language-text">Engine</code>이라는 구체적인 클래스에 의존했습니다.
하지만 DIP를 적용하면, <code class="language-text">Car</code>는 <code class="language-text">Engine</code>의 <strong>인터페이스</strong>(<strong>Interface</strong> or <strong>Protocol</strong>)에만 의존하고, 실제 구현은 나중에 주입됩니다.</p>
<br>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> typing <span class="token keyword">import</span> Protocol

<span class="token comment"># 인터페이스 정의</span>
<span class="token keyword">class</span> <span class="token class-name">Engine</span><span class="token punctuation">(</span>Protocol<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">start</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment"># 실제 구현체 1</span>
<span class="token keyword">class</span> <span class="token class-name">GasEngine</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">start</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"가솔린 엔진이 켜졌습니다."</span><span class="token punctuation">)</span>

<span class="token comment"># 실제 구현체 2</span>
<span class="token keyword">class</span> <span class="token class-name">ElectricEngine</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">start</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"전기 엔진이 켜졌습니다."</span><span class="token punctuation">)</span>

<span class="token comment"># Engine 인터페이스에만 의존하는 Car</span>
<span class="token keyword">class</span> <span class="token class-name">Car</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> engine<span class="token punctuation">:</span> Engine<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 의존성 주입</span>
        self<span class="token punctuation">.</span>engine <span class="token operator">=</span> engine

    <span class="token keyword">def</span> <span class="token function">drive</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"자동차가 출발합니다."</span><span class="token punctuation">)</span>

<span class="token comment"># 사용</span>
car <span class="token operator">=</span> Car<span class="token punctuation">(</span>GasEngine<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
car<span class="token punctuation">.</span>drive<span class="token punctuation">(</span><span class="token punctuation">)</span>

car2 <span class="token operator">=</span> Car<span class="token punctuation">(</span>ElectricEngine<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
car2<span class="token punctuation">.</span>drive<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>이제 <code class="language-text">Car</code>는 <code class="language-text">GasEngine</code> 혹은 <code class="language-text">ElectricEngine</code> 중 무엇이 들어올지 몰라도 동작이 가능합니다.
오로지 <code class="language-text">Engine Interface</code>에만 의존하고 있습니다.
구현체의 변경에 영향을 받지 않기 때문에 유지보수성과 테스트 편의성이 향상됩니다.
또한 Interface 혹은 Protocol만 파악하고 있으면 코드 분석도 수월해집니다.</p>
<h2>IoC (Inversion of Control)</h2>
<p>DIP가 적용되기 전인 기존 구조에서는 <code class="language-text">Car</code>가 <strong>직접 엔진을 제어</strong>했습니다.
이후에는 제어의 흐름이 <strong>외부에서 어떤 엔진을 줄지 결정</strong>하는 방식으로 바뀌었습니다.</p>
<p>이러한 제어 주체의 전환을 제어의 역전(IoC)이라고 부릅니다.</p>
<div style="overflow-x: auto; margin: 24px 0;">
  <table style="width: 100%; max-width: 800px; margin: 0 auto; border-collapse: collapse; font-size: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-radius: 8px; overflow: hidden;">
    <thead>
      <tr style="background-color: #e6e6fa; color: #4a4a4a;">
        <th style="padding: 16px 20px; text-align: left; font-weight: 600; width: 32%;">용어</th>
        <th style="padding: 16px 20px; text-align: left; font-weight: 600; width: 68%;">의미</th>
      </tr>
    </thead>
    <tbody>
      <tr style="background-color: #ffffff;">
        <td style="padding: 16px 20px; font-weight: 600; border-bottom: 1px solid #e9ecef; background-color: #f8f9fa; color: #495057;">의존성(Dependency)</td>
        <td style="padding: 16px 20px; border-bottom: 1px solid #e9ecef;">어떤 객체가 다른 객체를 필요로 하는 관계</td>
      </tr>
      <tr style="background-color: #fdfdfd;">
        <td style="padding: 16px 20px; font-weight: 600; border-bottom: 1px solid #e9ecef; background-color: #f8f9fa; color: #495057;">주입(Injection)</td>
        <td style="padding: 16px 20px; border-bottom: 1px solid #e9ecef;">필요한 객체를 외부에서 넣어주는 행위</td>
      </tr>
      <tr style="background-color: #ffffff;">
        <td style="padding: 16px 20px; font-weight: 600; border-bottom: 1px solid #e9ecef; background-color: #f8f9fa; color: #495057;">의존성 분리(Separation)</td>
        <td style="padding: 16px 20px; border-bottom: 1px solid #e9ecef;">구체 구현에 의존하지 않고, 추상화된 인터페이스에만 의존하게 만드는 설계</td>
      </tr>
      <tr style="background-color: #fdfdfd;">
        <td style="padding: 16px 20px; font-weight: 600; border-bottom: 1px solid #e9ecef; background-color: #f8f9fa; color: #495057;">DIP (의존관계 역전 원칙)</td>
        <td style="padding: 16px 20px; border-bottom: 1px solid #e9ecef;">상위 계층이 하위 구현이 아닌, 인터페이스(추상화)에 의존하도록 구조를 설계</td>
      </tr>
      <tr style="background-color: #ffffff;">
        <td style="padding: 16px 20px; font-weight: 600; background-color: #f8f9fa; color: #495057;">IoC (제어의 역전)</td>
        <td style="padding: 16px 20px;">객체 생성/제어의 책임을 외부로 위임하여 유연한 구조를 만드는 설계 패턴</td>
      </tr>
    </tbody>
  </table>
</div>
<p>지금까지의 개념을 표로 정리해보았는데요, 추가적으로 IoC Container라는 개념도 있습니다.
IoC Container에서는 프레임워크나 컨테이너가 객체 생성, 관리 및 의존성 주입에 대한 제어권을 가집니다.
개발자가 직접 객체의 생명 주기와 의존성을 관리하는 것이 아니라 컨테이너에 위임하는 것입니다.</p>
<p>보통 자바(스프링)에서 많이 언급되는데, 이는 스프링이라는 프레임워크 자체가 객체의 생성을 비롯한 의존성 관리, 애플리케이션 흐름 제어 등을 프레임워크가 주도하도록 설계되었기 때문입니다.</p>
<h2>그래서 DI가 왜 필요한 건가요?</h2>
<p>지금까지 <code class="language-text">Car</code>와 <code class="language-text">Engine</code> 클래스 예시와 함께 DI가 어떻게 구현되는지 알아보았습니다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Engine</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">start</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"엔진이 켜졌습니다."</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Car</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>engine <span class="token operator">=</span> Engine<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># Car는 Engine에 의존함</span>

    <span class="token keyword">def</span> <span class="token function">drive</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"자동차가 출발합니다."</span><span class="token punctuation">)</span></code></pre></div>
<p>처음에 다뤘던 위의 코드에서는 다음과 같은 구조적 문제가 있었습니다.</p>
<br>
<p><strong>클래스 간의 강한 결합</strong></p>
<p><code class="language-text">Car</code>는 내부에서 <code class="language-text">Engine</code>을 직접 생성하기 때문에 <code class="language-text">Engine</code>에 강하게 결합되어 있습니다. 만약 <code class="language-text">HybridEngine</code> 같은 새로운 엔진을 사용하고 싶으면 <code class="language-text">Car</code> 클래스의 생성자를 수정해야 합니다. 다른 엔진을 장착하기 위해 생성자만 다르고 나머지 코드는 중복되는 각기 다른 <code class="language-text">Car</code> 클래스들이 파생되는 것은 좋지 않습니다. 즉, 유연성이 떨어지고 확장에 취약한 구조가 됩니다.</p>
<br>
<p><strong>객체가 아닌 클래스 간의 관계</strong></p>
<p>올바른 객체지향적 설계에서는 객체 간의 관계가 중심이 되어야 합니다. 위의 예시에서 <code class="language-text">Car</code>와 <code class="language-text">Engine</code>은 객체들 간의 관계가 아니라 클래스들 간의 관계가 맺어져 있습니다. 결과적으로 <code class="language-text">Car</code>는 다른 타입의 <code class="language-text">Engine</code>이 존재한다는 사실조차 인식할 수 없습니다.</p>
<p>결국 이러한 문제들을 근본적으로 해결하기 위해, 하나의 객체가 어떤 객체(구체 클래스)에 의존할 것인지는 별도의 관심사로 두어야 합니다. 강하게 결합된 클래스들을 분리하고, 결합도를 낮추고, 유연성을 확보해주는 것이 핵심입니다.</p>
<br>
<p>정리하면, DI 방식 설계로 아래와 같은 장점들을 얻을 수 있습니다.</p>
<ol>
<li>객체를 외부에서 주입받아 클래스 간 결합도가 낮아집니다.</li>
<li>Mock 객체로 쉽게 교체할 수 있어 테스트가 쉬워집니다.</li>
<li>생성 로직이 분리되어 유지보수와 확장이 편해집니다.</li>
<li>컨테이너가 생명주기를 관리해 자원 사용이 효율적입니다.</li>
<li>비즈니스 로직에 집중할 수 있어 코드가 더 명확해집니다.</li>
</ol>
<h2>참고 자료</h2>
<ul>
<li><a href="https://medium.com/@jang.wangsu/di-dependency-injection-%EC%9D%B4%EB%9E%80-1b12fdefec4f" target="_blank" rel="nofollow">DI(Dependency Injection)이란?</a></li>
<li><a href="https://mangkyu.tistory.com/150" target="_blank" rel="nofollow">의존성 주입(Dependency Injection, DI)이란?</a></li>
<li><a href="https://mangkyu.tistory.com/125" target="_blank" rel="nofollow">다양한 의존성 주입 방법과 생성자 주입을 사용해야 하는 이유</a></li>
</ul></div><style data-emotion="css hx9xpc">@media (max-width: 768px){.css-hx9xpc{padding:0 20px;}}</style><div class="css-hx9xpc e1gqsjds0"></div><style data-emotion="css 9w9jmx">.css-9w9jmx{display:grid;place-items:center;margin-top:auto;padding:50px 0;font-size:15px;text-align:center;line-height:1.5;}@media (max-width: 768px){.css-9w9jmx{font-size:13px;}}</style><footer class="css-9w9jmx e1oae0v80">Thank You for Visiting My Blog, Have a Good Day 😆<br/>© 2025 Developer Donhyeok, Powered By Gatsby.</footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-WSM9M8LZ1S"></script><script>
    window.GATSBY_GTAG_PLUGIN_GA_TRACKING_ID = (
      'G-WSM9M8LZ1S'
    );
    window.GATSBY_GTAG_PLUGIN_ANONYMIZE = true;

    var options = {
      send_page_view: false
    };
    if (true) {
      options.anonymize_ip = true;
    }

    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    window.gtag = gtag;
    gtag('js', new Date());
    gtag('config', 'G-WSM9M8LZ1S', options);
  </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/fastapi-series/dependency-injection/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-2cf462cf492597355d73.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-ff8046675966000b0fba.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-530e0618f6e6715d3394.js\"],\"component---src-pages-info-tsx\":[\"/component---src-pages-info-tsx-ad651534cff1184f2fc9.js\"],\"component---src-templates-post-template-tsx\":[\"/component---src-templates-post-template-tsx-118bd14c1e8dc03c827e.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="8859e4f9bc353617756c";</script><script src="/webpack-runtime-812799c4358bd46a140f.js" async></script><script src="/framework-db988868b0935e917b4a.js" async></script><script src="/app-2cf462cf492597355d73.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>